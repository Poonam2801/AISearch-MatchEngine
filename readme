# ü§ñ AI Resume Matcher

An intelligent, AI-powered resume screening and candidate matching system built with Streamlit and Claude AI. This application helps recruiters efficiently match candidates to job openings using advanced filtering and AI-based scoring.

![Python](https://img.shields.io/badge/python-3.8+-blue.svg)
![Streamlit](https://img.shields.io/badge/streamlit-1.28+-red.svg)
![License](https://img.shields.io/badge/license-MIT-green.svg)

## ‚ú® Features

### üéØ Smart Filtering
- **Multi-dimensional Filtering**: Filter candidates by role, function, industry, experience, and CTC
- **Keyword Search**: Search for specific skills and technologies in candidate resumes
- **Quality Filters**: Automatically filter out incomplete or low-quality profiles
- **Auto-population**: Job requirements automatically populate filter criteria

### ü§ñ AI-Powered Scoring
- **Intelligent Matching**: Uses Claude AI (Sonnet 4) to score candidate-job fit
- **Custom Prompts**: Define your own AI scoring criteria
- **Parallel Processing**: Score up to 100 candidates simultaneously with 15 parallel workers
- **Work Experience Analysis**: Deep analysis of candidate work history vs job requirements

### ‚ö° Performance Optimized
- **Super-fast Loading**: Parallel data fetching from Airtable (5x faster)
- **Smart Caching**: Instant reload of previously fetched data
- **Turbo Scoring**: Process candidates 15x faster with parallel AI calls
- **Real-time Progress**: Live progress tracking with detailed metrics

### üìä Comprehensive Analytics
- **Top Candidate Rankings**: View top 15 matches with detailed scores
- **Keyword Match Analysis**: See which keywords matched for each candidate
- **Cost Tracking**: Real-time token usage and cost estimation
- **Filtering Funnel**: Visual breakdown of candidates at each filter stage

## üöÄ Getting Started

### Prerequisites

- Python 3.8 or higher
- Airtable account with candidate and job databases
- Anthropic API key (for Claude AI)

### Installation

1. **Clone the repository**
   ```bash
   git clone https://github.com/yourusername/ai-resume-matcher.git
   cd ai-resume-matcher
   ```

2. **Install dependencies**
   ```bash
   pip install -r requirements.txt
   ```

3. **Set up environment variables**
   
   Create a `.env` file in the project root:
   ```bash
   # Airtable Configuration
   AIRTABLE_API_KEY=your_airtable_api_key_here
   AIRTABLE_BASE_ID=your_base_id_here
   CANDIDATES_TABLE_ID=your_candidates_table_id
   CANDIDATES_VIEW_ID=your_candidates_view_id
   JOBS_TABLE_ID=your_jobs_table_id
   JOBS_VIEW_ID=your_jobs_view_id

   # Anthropic API Configuration
   ANTHROPIC_API_KEY=your_anthropic_api_key_here
   ```

4. **Run the application**
   ```bash
   streamlit run v8.py
   ```

The app will open in your default browser at `http://localhost:8501`

## üìã Airtable Setup

### Candidates Table Required Fields
- `skill` - Text field for candidate skills
- `work_experience` - Long text field for work history
- `Resume_url` - URL field for resume link
- `email` - Email field
- `Current CTC numeric` - Number field (in LPA)
- `Notice Period` - Text field
- `education` - Text field
- `Function(demo)` - Multiple select field
- `total_experience_in_years` - Number field
- `Select your role` - Multiple select field
- `industry` - Multiple select field

### Jobs Table Required Fields
- `Role Description` - Long text field
- `function` - Single/Multiple select field
- `CTC Budget Numeric` - Number field (in LPA)
- `Experience needed in years` - Number field
- `Select the role` - Single/Multiple select field
- `Position & Client Name` - Text field
- `industry` - Single/Multiple select field
- `Targeted Resume Keywords` - Text field (comma/newline separated)
- `One-liner job description` - Text field for AI prompt

## üéÆ Usage Guide

### Step 1: Load Data
1. Click **"Load Candidates"** in the sidebar
   - Choose "‚ö° TURBO Load" for fastest parallel fetching
   - Or use "Sample (First 100)" for testing
2. Click **"Load Jobs from Specific View"** to fetch available positions

### Step 2: Select a Job
1. Use the search bar to find jobs by position, client, or keywords
2. Select a job from the dropdown
3. Review job details including CTC budget and experience requirements

### Step 3: Configure Filters
The app auto-populates filters based on the selected job, but you can customize:

- **Role Filter**: Match candidates by specific roles
- **Function Filter**: Filter by job function (Sales, Engineering, etc.)
- **Industry Filter**: Match candidates from specific industries
- **CTC Range**: Set salary range (auto-calculated or custom)
- **Experience Range**: Set years of experience required
- **Keyword Search**: Search for specific skills in resumes
- **Quality Filters**: Set minimum content requirements

### Step 4: Preview Results
1. Click **"Run Filter Preview"** to see how many candidates match
2. Review the filtering funnel showing candidates at each stage
3. Browse paginated results with matching details

### Step 5: AI Scoring
1. Optionally configure a custom AI scoring prompt
2. Click **"Start AI Scoring & Matching"**
3. The app will:
   - Enhance the job description using AI
   - Score all filtered candidates in parallel
   - Rank candidates by fit score

### Step 6: Review Results
- View top 15 candidates with detailed profiles
- See AI scores, keyword matches, and work experience
- Click resume links to view full resumes
- Export results as needed

## üí∞ Cost Estimation

The app uses Claude Sonnet 4 with the following pricing:
- Input tokens: $0.000003 per token
- Output tokens: $0.000015 per token

**Typical costs:**
- Enhancing 1 job description: ~$0.01
- Scoring 1 candidate: ~$0.0002
- Processing 50 candidates: ~$0.02

The app displays real-time cost tracking during processing.

## ‚öôÔ∏è Configuration

### Customizing Parallel Workers
Edit these values in the code for different performance characteristics:

```python
# In fetch_all_candidates_parallel()
max_workers = 5  # Airtable fetch parallelism (default: 5)

# In score_candidates()
max_workers = 15  # AI scoring parallelism (default: 15)
```

**Note**: Higher parallelism = faster but more API rate limit risk

### Adjusting Quality Thresholds
```python
# Default quality filter settings
min_skill_length = 50  # Minimum characters in skills
min_experience_length = 100  # Minimum characters in work experience
```

## üîß Troubleshooting

### "Missing required environment variables"
- Ensure your `.env` file exists in the project root
- Check that all required variables are set
- Verify there are no spaces around the `=` sign

### "Airtable connection failed"
- Verify your Airtable API key is correct
- Check that your Base ID and Table IDs are accurate
- Ensure your Airtable account has API access enabled

### "Rate limit reached"
- The app automatically waits and retries
- Consider reducing parallel workers if this persists
- Check your Airtable/Anthropic API rate limits

### Slow loading times
- Use "Quick Load (Cached)" after the first load
- Reduce the number of candidates with filters
- Check your internet connection speed

## üìä Performance Metrics

**Loading Speed:**
- Serial loading: ~2-3 minutes for 1000 candidates
- Parallel loading (TURBO): ~30-40 seconds for 1000 candidates
- **5-6x faster** with parallel mode

**Scoring Speed:**
- Serial scoring: ~15 seconds per candidate
- Parallel scoring (15 workers): ~1 second per candidate
- **15x faster** with parallel mode

## ü§ù Contributing

Contributions are welcome! Please feel free to submit a Pull Request. For major changes, please open an issue first to discuss what you would like to change.

1. Fork the repository
2. Create your feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit your changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to the branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

## üìù License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## üôè Acknowledgments

- Built with [Streamlit](https://streamlit.io/)
- Powered by [Anthropic Claude AI](https://www.anthropic.com/)
- Data management via [Airtable](https://airtable.com/)

## üìß Contact

Your Name - [@yourtwitter](https://twitter.com/yourtwitter) - your.email@example.com

Project Link: [https://github.com/yourusername/ai-resume-matcher](https://github.com/yourusername/ai-resume-matcher)

## üó∫Ô∏è Roadmap

- [ ] Add email integration for candidate outreach
- [ ] Export results to CSV/Excel
- [ ] Batch processing for multiple jobs
- [ ] Interview scheduling integration
- [ ] Advanced analytics dashboard
- [ ] Multi-language support
- [ ] Resume parsing improvements
- [ ] Candidate feedback collection

---

**Made with ‚ù§Ô∏è for recruiters who want to work smarter, not harder**
